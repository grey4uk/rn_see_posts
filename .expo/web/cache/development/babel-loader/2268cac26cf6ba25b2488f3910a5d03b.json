{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\1\\\\Documents\\\\goit_hw\\\\REACT\\\\native_project\\\\global_project\\\\screens\\\\tab\\\\CreateScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { firestore, storage } from \"../../firebase/config\";\nimport { useSelector } from \"react-redux\";\nimport { Camera } from \"expo-camera\";\nimport * as Location from \"expo-location\";\nexport var CreateScreen = function CreateScreen() {\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      userId = _useSelector.userId,\n      userName = _useSelector.userName;\n\n  var _useState = useState(Camera.Constants.Type.back),\n      _useState2 = _slicedToArray(_useState, 2),\n      type = _useState2[0],\n      setType = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      takePhoto = _useState4[0],\n      settakePhoto = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      photo = _useState6[0],\n      setphoto = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      location = _useState8[0],\n      setLocation = _useState8[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Camera$request, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestPermissionsAsync());\n\n            case 2:\n              _await$Camera$request = _context.sent;\n              status = _await$Camera$request.status;\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  useEffect(function () {\n    (function _callee2() {\n      var _await$Location$reque, status, location;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context2.sent;\n              status = _await$Location$reque.status;\n\n              if (status !== \"granted\") {\n                console.log(\"Permission to access location was denied\");\n              }\n\n              _context2.next = 7;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 7:\n              location = _context2.sent;\n              setLocation(location);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  });\n\n  var snap = function snap() {\n    var file;\n    return _regeneratorRuntime.async(function snap$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!takePhoto) {\n              _context3.next = 6;\n              break;\n            }\n\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(takePhoto.takePictureAsync());\n\n          case 3:\n            file = _context3.sent;\n            setphoto(file.uri);\n            uploadStorage(file.uri);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var uploadStorage = function uploadStorage(img) {\n    var response, file, uploadTask;\n    return _regeneratorRuntime.async(function uploadStorage$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(fetch(img));\n\n          case 2:\n            response = _context5.sent;\n            _context5.next = 5;\n            return _regeneratorRuntime.awrap(response.blob());\n\n          case 5:\n            file = _context5.sent;\n            uploadTask = storage.ref(\"image/\" + 'travelOne').put(file);\n            uploadTask.on('state_changed', function () {}, function () {}, function _callee3() {\n              var url;\n              return _regeneratorRuntime.async(function _callee3$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      _context4.next = 2;\n                      return _regeneratorRuntime.awrap(storage.ref('image').child('travelOne').getDownloadURL());\n\n                    case 2:\n                      url = _context4.sent;\n                      console.log('url', url);\n\n                    case 4:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            });\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var createPost = function createPost() {\n    var _await$Location$reque2, status, _location;\n\n    return _regeneratorRuntime.async(function createPost$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.next = 2;\n            return _regeneratorRuntime.awrap(Location.requestPermissionsAsync());\n\n          case 2:\n            _await$Location$reque2 = _context6.sent;\n            status = _await$Location$reque2.status;\n\n            if (!(status === \"granted\")) {\n              _context6.next = 10;\n              break;\n            }\n\n            _context6.next = 7;\n            return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n          case 7:\n            _location = _context6.sent;\n            _context6.next = 10;\n            return _regeneratorRuntime.awrap(firestore.collection(\"posts\").add({\n              image: photo,\n              userId: userId,\n              userName: userName,\n              test: \"test\",\n              location: _location\n            }));\n\n          case 10:\n            ;\n\n          case 11:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: _objectSpread({}, StyleSheet.absoluteFill),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/images/road.jpg\"),\n    style: {\n      flex: 1,\n      width: null,\n      height: null\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  })), React.createElement(Camera, {\n    ref: function ref(_ref) {\n      return settakePhoto(_ref);\n    },\n    style: {\n      width: '100%',\n      height: 300,\n      padding: 10\n    },\n    type: type,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flex: 0.1,\n      alignSelf: \"flex-end\",\n      alignItems: \"center\"\n    },\n    onPress: function onPress() {\n      setType(type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 16,\n      padding: 8,\n      color: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, \"Flip\"))), React.createElement(Button, {\n    title: \"Snap\",\n    onPress: snap,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: createPost,\n    style: styles.btn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.btnTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, \"POST ?\")));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  btn: {\n    height: 40,\n    width: 100,\n    backgroundColor: \"#556b2f\",\n    borderRadius: 18,\n    marginTop: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  btnTitle: {\n    color: \"white\",\n    fontSize: 18\n  }\n});","map":{"version":3,"sources":["C:/Users/1/Documents/goit_hw/REACT/native_project/global_project/screens/tab/CreateScreen.js"],"names":["React","useEffect","useState","firestore","storage","useSelector","Camera","Location","CreateScreen","state","user","userId","userName","Constants","Type","back","type","setType","takePhoto","settakePhoto","photo","setphoto","location","setLocation","requestPermissionsAsync","status","console","log","getCurrentPositionAsync","snap","takePictureAsync","file","uri","uploadStorage","img","fetch","response","blob","uploadTask","ref","put","on","child","getDownloadURL","url","createPost","collection","add","image","test","styles","container","StyleSheet","absoluteFill","require","flex","width","height","padding","alignSelf","alignItems","front","fontSize","color","btn","btnTitle","create","backgroundColor","justifyContent","borderRadius","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Button,\n  TouchableOpacity,\n  Image,\n} from \"react-native\";\nimport { firestore, storage } from \"../../firebase/config\";\nimport { useSelector } from \"react-redux\";\nimport { Camera } from \"expo-camera\";\nimport * as Location from \"expo-location\";\n\nexport const CreateScreen = () => {\n  const { userId, userName } = useSelector((state) => state.user);\n  const [type, setType] = useState(Camera.Constants.Type.back);\n  const [takePhoto, settakePhoto] = useState(\"\");\n  const [photo, setphoto] = useState(\"\");\n  const [location, setLocation] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      const { status } = await Camera.requestPermissionsAsync();\n      // console.log(status === \"granted\");\n      // console.log(\"status\", status);\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      let { status } = await Location.requestPermissionsAsync();\n      if (status !== \"granted\") {\n        console.log(\"Permission to access location was denied\");\n      }\n      let location = await Location.getCurrentPositionAsync({});\n      setLocation(location);\n    })();\n  });\n\n  const snap = async () => {\n    if (takePhoto) {\n      let file = await takePhoto.takePictureAsync();\n      setphoto(file.uri);\n      uploadStorage(file.uri);\n    }\n  };\n\n  const uploadStorage = async (img) => {\n    const response = await fetch(img);\n    const file = await response.blob();\n    const uploadTask = storage.ref(`image/${'travelOne'}`).put(file);\n    uploadTask.on(\n      'state_changed',\n      () => {},\n      () => {},\n      async () => {\n        const url = await storage\n          .ref('image')\n          .child('travelOne')\n          .getDownloadURL();\n        console.log('url', url);\n      }\n    );\n     // const getStorageRefs = async () => {\n    //   const url = await storage.ref('image').child('posts').getDownloadURL();\n    //   console.log('url', url);\n    // };\n\n    // console.log(\"storageRef\", storageRef);\n  };\n   \n  const createPost = async () => {\n    let { status } = await Location.requestPermissionsAsync();\n    if (status === \"granted\") {\n      let location = await Location.getCurrentPositionAsync({});\n    await firestore.collection(\"posts\").add({\n      image: photo,\n      userId,\n      userName,\n      test: \"test\",\n      location,\n    });\n  };\n}\n\n  return (\n    <View style={styles.container}>\n      <View style={{ ...StyleSheet.absoluteFill }}>\n        <Image\n          source={require(\"../../assets/images/road.jpg\")}\n          style={{ flex: 1, width: null, height: null }}\n        />\n      </View>\n      <Camera\n        ref={(ref) => settakePhoto(ref)}\n        style={{ width: '100%', height: 300, padding:10}}\n        type={type}\n      >\n        <TouchableOpacity\n          style={{\n            flex: 0.1,\n            alignSelf: \"flex-end\",\n            alignItems: \"center\",\n          }}\n          onPress={() => {\n            setType(\n              type === Camera.Constants.Type.back\n                ? Camera.Constants.Type.front\n                : Camera.Constants.Type.back\n            );\n          }}\n        >\n          <Text style={{ fontSize: 16, padding: 8, color: \"white\" }}>\n            Flip\n          </Text>\n        </TouchableOpacity>\n      </Camera>\n\n      <Button title=\"Snap\" onPress={snap} />\n\n      <TouchableOpacity onPress={createPost} style={styles.btn}>\n        <Text style={styles.btnTitle}>POST ?</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  btn: {\n    height: 40,\n    width: 100,\n    backgroundColor: \"#556b2f\",\n    borderRadius: 18,\n    marginTop: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  btnTitle: {\n    color: \"white\",\n    fontSize: 18,\n  },\n})\n"]},"metadata":{},"sourceType":"module"}